{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { CALENDAR_STORAGE_KEY } from \"./_calender\";\nexport function submitEntry(_ref) {\n  var key, entry, initialStorage, finalStorage;\n  return _regeneratorRuntime.async(function submitEntry$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          key = _ref.key, entry = _ref.entry;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(CALENDAR_STORAGE_KEY));\n\n        case 3:\n          initialStorage = _context.sent;\n          console.log('initialStorage', initialStorage);\n          _context.next = 7;\n          return _regeneratorRuntime.awrap(AsyncStorage.mergeItem(CALENDAR_STORAGE_KEY, JSON.stringify(_defineProperty({}, key, entry))));\n\n        case 7:\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(CALENDAR_STORAGE_KEY));\n\n        case 9:\n          finalStorage = _context.sent;\n          console.log('finalStorage', finalStorage);\n          return _context.abrupt(\"return\");\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\nexport function removeEntry(key) {\n  var calendarStorage, items;\n  return _regeneratorRuntime.async(function removeEntry$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(AsyncStorage.getItem(CALENDAR_STORAGE_KEY));\n\n        case 2:\n          calendarStorage = _context2.sent;\n          items = JSON.parse(calendarStorage);\n          items[key] = null;\n          delete items[key];\n          _context2.next = 8;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem(CALENDAR_STORAGE_KEY, JSON.stringify(items)));\n\n        case 8:\n          return _context2.abrupt(\"return\", true);\n\n        case 9:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}","map":{"version":3,"sources":["/home/xtratos/Documents/React-Developer-Nanodegree-Program/UdaciFitness/utils/api.js"],"names":["AsyncStorage","CALENDAR_STORAGE_KEY","submitEntry","key","entry","getItem","initialStorage","console","log","mergeItem","JSON","stringify","finalStorage","removeEntry","calendarStorage","items","parse","setItem"],"mappings":";;AAAA,OAAOA,YAAP,MAAyB,2CAAzB;AACA,SAASC,oBAAT;AAEA,OAAO,SAAeC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6BC,UAAAA,GAA7B,QAA6BA,GAA7B,EAAkCC,KAAlC,QAAkCA,KAAlC;AAAA;AAAA,2CACwBJ,YAAY,CAACK,OAAb,CAAqBJ,oBAArB,CADxB;;AAAA;AACCK,UAAAA,cADD;AAEHC,UAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,cAA9B;AAFG;AAAA,2CAGGN,YAAY,CAACS,SAAb,CAAuBR,oBAAvB,EAA6CS,IAAI,CAACC,SAAL,qBAAiBR,GAAjB,EAAuBC,KAAvB,EAA7C,CAHH;;AAAA;AAAA;AAAA,2CAIsBJ,YAAY,CAACK,OAAb,CAAqBJ,oBAArB,CAJtB;;AAAA;AAICW,UAAAA,YAJD;AAKHL,UAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BI,YAA5B;AALG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASP,OAAO,SAAeC,WAAf,CAA2BV,GAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACyBH,YAAY,CAACK,OAAb,CAAqBJ,oBAArB,CADzB;;AAAA;AACCa,UAAAA,eADD;AAECC,UAAAA,KAFD,GAESL,IAAI,CAACM,KAAL,CAAWF,eAAX,CAFT;AAGHC,UAAAA,KAAK,CAACZ,GAAD,CAAL,GAAa,IAAb;AACA,iBAAOY,KAAK,CAACZ,GAAD,CAAZ;AAJG;AAAA,2CAKGH,YAAY,CAACiB,OAAb,CAAqBhB,oBAArB,EAA2CS,IAAI,CAACC,SAAL,CAAeI,KAAf,CAA3C,CALH;;AAAA;AAAA,4CAMI,IANJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\nimport { CALENDAR_STORAGE_KEY } from './_calender';\n\nexport async function submitEntry({ key, entry }) {\n    let initialStorage = await AsyncStorage.getItem(CALENDAR_STORAGE_KEY);\n    console.log('initialStorage', initialStorage);\n    await AsyncStorage.mergeItem(CALENDAR_STORAGE_KEY, JSON.stringify({[key]: entry}));\n    let finalStorage = await AsyncStorage.getItem(CALENDAR_STORAGE_KEY);\n    console.log('finalStorage', finalStorage);\n    return \n}\n\nexport async function removeEntry(key) {\n    let calendarStorage = await AsyncStorage.getItem(CALENDAR_STORAGE_KEY);\n    let items = JSON.parse(calendarStorage);\n    items[key] = null;\n    delete items[key];\n    await AsyncStorage.setItem(CALENDAR_STORAGE_KEY, JSON.stringify(items));\n    return true;\n}"]},"metadata":{},"sourceType":"module"}